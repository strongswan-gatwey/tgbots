# Telegram –±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á –≤ YouTrack —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π reply-–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, –∫–Ω–æ–ø–æ–∫ –º–µ–Ω—é –∏ –¥–≤—É—Ö —Ä–µ–∂–∏–º–æ–≤ —Ä–∞–±–æ—Ç—ã
#  tgbots+YouTrack HelpDesk

üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
Reply-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª: –û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç–∞, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∑–∞–¥–∞—á–µ
–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, –∫ –∫–∞–∫–æ–π –∑–∞–¥–∞—á–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ
Inline-–∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é: –£–¥–æ–±–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏ –≤ —á–∞—Ç–µ
–î–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Polling (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è) –∏ Webhook (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, —Ñ–æ—Ç–æ, –≤–∏–¥–µ–æ, –∞—É–¥–∏–æ –¥–æ 50 –ú–ë
–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö –≤ YouTrack
Web-—Å—Ç–∞—Ç—É—Å: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

üöÄ –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞: –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–Ω–∏–º–∞–µ—Ç, –∫ –∫–∞–∫–æ–π –∑–∞–¥–∞—á–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ
–ö–Ω–æ–ø–∫–∏ –±—ã—Å—Ç—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π: –í —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö –∏ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –¥–∏–∞–ª–æ–≥–æ–≤: –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ 1 —á–∞—Å
–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã: –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö

# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
# /opt/telegram-youtrack/
# ‚îú‚îÄ‚îÄ app/                         # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
# ‚îÇ   ‚îú‚îÄ‚îÄ bot.py                   # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å Telegram –±–æ—Ç–∞
# ‚îÇ   ‚îú‚îÄ‚îÄ youtrack.py              # YouTrack API –∫–ª–∏–µ–Ω—Ç
# ‚îÇ   ‚îú‚îÄ‚îÄ comment_checker.py       # –ú–æ–¥—É–ª—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
# ‚îÇ   ‚îú‚îÄ‚îÄ dialog_manager.py        # –ú–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤
# ‚îÇ   ‚îî‚îÄ‚îÄ callback_handler.py      # –û–±—Ä–∞–±–æ—Ç—á–∏–∫ inline-–∫–Ω–æ–ø–æ–∫
# ‚îÇ
# ‚îú‚îÄ‚îÄ config/
# ‚îÇ   ‚îî‚îÄ‚îÄ config.yaml              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
# ‚îÇ
# ‚îú‚îÄ‚îÄ data/                        # –î–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
# ‚îÇ   ‚îú‚îÄ‚îÄ tracked_issues.json      # –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –∑–∞–¥–∞—á–∏
# ‚îÇ   ‚îú‚îÄ‚îÄ active_dialogs.json      # –ê–∫—Ç–∏–≤–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏
# ‚îÇ   ‚îî‚îÄ‚îÄ uploads/                 # –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
# ‚îÇ
# ‚îú‚îÄ‚îÄ venv/                        # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Python
# ‚îú‚îÄ‚îÄ main.py                      # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
# ‚îú‚îÄ‚îÄ requirements.txt             # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
# ‚îî‚îÄ‚îÄ test_bot.py                  # –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç

# –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
apt update && sudo apt upgrade -y
sudo apt install -y git curl wget
git clone https://github.com/strongswan-gatwey/tgbots
chmod +x install_bot_youtrack.sh
./install_bot_youtrack.sh

# –í–æ –≤—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –±—É–¥—É—Ç –∑–∞–ø—Ä–æ—à–µ–Ω—ã:
–î–æ–º–µ–Ω–Ω–æ–µ –∏–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: bot.yourdomain.com)
Email –¥–ª—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
Telegram Bot Token (–æ—Ç @BotFather)
Telegram Admin ID (–≤–∞—à ID –≤ Telegram)
YouTrack Token
–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã (Polling –∏–ª–∏ Webhook)

# –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª
/opt/telegram-youtrack/config/config.yaml

# –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –∑–∞–¥–∞—á
MST-123 - –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç
TS-456 - –ó–∞–¥–∞—á–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
DEMO-789 - –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

# –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
/start - –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã —Å –±–æ—Ç–æ–º
/help - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
/status - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
/myissues - –ü–æ–∫–∞–∑–∞—Ç—å –≤–∞—à–∏ –∑–∞–¥–∞—á–∏
/continue MST-123 - –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –∑–∞–¥–∞—á–µ–π
/close - –ó–∞–∫—Ä—ã—Ç—å —Ç–µ–∫—É—â–∏–π –¥–∏–∞–ª–æ–≥
/stats - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞)

# Inline-–∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é
üìã –ú–æ–∏ –∑–∞–¥–∞—á–∏ - –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
üìä –°—Ç–∞—Ç—É—Å - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
‚ùì –ü–æ–º–æ—â—å - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
üÜò –ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞ - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É
üè† –ì–ª–∞–≤–Ω–∞—è - –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π

## –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞
mbsup-manage status

## –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
mbsup-manage logs

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
mbsup-manage stats

## –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
mbsup-manage backup

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
mbsup-manage update

## –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
mbsup-manage cleanup

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–º —Ä–∞–±–æ—Ç—ã
mbsup-manage mode

## –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
mbsup-manage config

# Systemd —Å–µ—Ä–≤–∏—Å
## –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
systemctl status mbsup-bot

## –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
systemctl restart mbsup-bot

## –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
journalctl -u mbsup-bot -f

## –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
–°—Ç–∞—Ç—É—Å: https://–≤–∞—à-–¥–æ–º–µ–Ω/status (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
Health check: https://–≤–∞—à-–¥–æ–º–µ–Ω/health
Webhook: https://–≤–∞—à-–¥–æ–º–µ–Ω/webhook (—Ç–æ–ª—å–∫–æ –¥–ª—è Webhook —Ä–µ–∂–∏–º–∞)

# –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
Systemd —Å–µ—Ä–≤–∏—Å —Å –∞–≤—Ç–æ-—Ä–µ—Å—Ç–∞—Ä—Ç–æ–º
Logrotate –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∞–º–∏
Cron –∑–∞–¥–∞–Ω–∏—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á
Health checks –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
Resource limits –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏

# –ú–µ—Ç—Ä–∏–∫–∏
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤
–†–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ YouTrack
–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

# –û—Ç–ª–∞–¥–∫–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
## –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
mbsup-manage logs

## –õ–æ–≥–∏ –æ—à–∏–±–æ–∫
mbsup-manage errors

## Systemd –ª–æ–≥–∏
journalctl -u mbsup-bot -f

## Nginx –ª–æ–≥–∏
tail -f /var/log/nginx/your-domain.access.log

# –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏
python-telegram-bot - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram API
aiohttp - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π HTTP –∫–ª–∏–µ–Ω—Ç/—Å–µ—Ä–≤–µ—Ä
YouTrack - –°–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–¥–∞—á –æ—Ç JetBrains
Certbot - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –æ—Ç Let's Encrypt

